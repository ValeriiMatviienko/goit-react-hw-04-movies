{"version":3,"sources":["services/moviesAPI.js","components/Cast/Cast.module.css","pages/MovieDetailsPage/MovieDetailsPage.module.css","components/Cast/Cast.js","components/Reviews/Reviews.js","pages/MovieDetailsPage/MovieDetailsPage.js"],"names":["API_KEY","getTrending","axios","get","then","res","data","getMovieById","id","getMovieCastById","getMovieReviewsById","getMovieByQuery","query","module","exports","Cast","state","cast","this","props","match","params","movieId","setState","className","styles","list","map","c","item","imageWrapper","src","profile_path","alt","image","name","character","length","Component","Reviews","reviews","results","r","author","content","MovieDetails","lazy","MovieDetailsPage","movie","error","handleReturnButton","history","location","push","from","catch","response","container","type","onClick","returnBtn","status","status_message","fallback","to","pathname","url","activeClassName","activeItem","path","component"],"mappings":"yIAAA,+LAEMA,EAAU,mCAEHC,EAAc,kBACzBC,IACGC,IADH,iEAE8DH,EAF9D,SAKGI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAERC,EAAe,SAAAC,GAAE,OAC5BN,IACGC,IADH,6CAE0CK,EAF1C,oBAEwDR,EAFxD,SAKGI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAERG,EAAmB,SAAAD,GAAE,OAChCN,IACGC,IADH,6CAE0CK,EAF1C,4BAEgER,EAFhE,SAKGI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAERI,EAAsB,SAAAF,GAAE,OACnCN,IACGC,IADH,6CAE0CK,EAF1C,4BAEgER,EAFhE,SAKGI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAERK,EAAkB,SAAAC,GAAK,OAClCV,IACGC,IADH,0DAEuDS,EAFvD,oBAEwEZ,EAFxE,SAKGI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,U,mBCzCrBO,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,mBAAmB,aAAe,2BAA2B,MAAQ,sB,mBCAxHD,EAAOC,QAAU,CAAC,UAAY,oCAAoC,UAAY,oCAAoC,KAAO,+BAA+B,KAAO,+BAA+B,WAAa,uC,wKCMtLC,E,4MASnBC,MAAQ,CACNC,KAAM,I,uDAGR,WAAqB,IAAD,OAEZT,EADYU,KAAKC,MAAfC,MACSC,OAAOC,QAExBb,YAAiBD,GAAIJ,MAAK,SAAAE,GAAI,OAAI,EAAKiB,SAAS,CAAEN,KAAMX,EAAKW,Y,oBAG/D,WAAU,IACAA,EAASC,KAAKF,MAAdC,KAER,OACE,qCACGA,GACC,oBAAIO,UAAWC,IAAOC,KAAtB,SACGT,EAAKU,KAAI,SAAAC,GAAC,OACT,qBAAeJ,UAAWC,IAAOI,KAAjC,UACE,qBAAKL,UAAWC,IAAOK,aAAvB,SACE,qBACEC,IAAG,UAjCP,uCAiCO,OAAkBH,EAAEI,cACvBC,IAAI,GACJT,UAAWC,IAAOS,UAGtB,6BAAKN,EAAEO,OACNP,EAAEQ,WAAa,4CAAeR,EAAEQ,eAT1BR,EAAEpB,SAeA,IAAhBS,EAAKoB,QAAgB,iF,GA3CIC,aCHbC,E,4MASnBvB,MAAQ,CACNwB,QAAS,I,uDAGX,WAAqB,IAAD,OAEZhC,EADYU,KAAKC,MAAfC,MACSC,OAAOC,QAExBZ,YAAoBF,GAAIJ,MAAK,SAAAE,GAAI,OAC/B,EAAKiB,SAAS,CAAEiB,QAASlC,EAAKmC,e,oBAIlC,WAAU,IACAD,EAAYtB,KAAKF,MAAjBwB,QAER,OACE,qCACGA,GACC,6BACGA,EAAQb,KAAI,SAAAe,GAAC,OACZ,+BACE,0CAAaA,EAAEC,UACf,4BAAID,EAAEE,YAFCF,EAAElC,SAQG,IAAnBgC,EAAQH,QAAgB,wE,GAtCIC,a,iBCI/BO,EAAeC,gBAAK,kBACxB,gCAKmBC,E,4MAmBnB/B,MAAQ,CACNgC,MAAO,KACPC,MAAO,M,EAYTC,mBAAqB,WAAO,IAAD,EACK,EAAK/B,MAA3BgC,EADiB,EACjBA,QAASC,EADQ,EACRA,SAEjB,OAAIA,EAASpC,MACJmC,EAAQE,KAAKD,EAASpC,MAAMsC,MAG9BH,EAAQE,KAAK,M,uDAhBtB,WAAqB,IAAD,OAEZ7C,EADYU,KAAKC,MAAfC,MACSC,OAAOC,QAExBf,YAAaC,GACVJ,MAAK,SAAAE,GAAI,OAAI,EAAKiB,SAAS,CAAEyB,MAAO1C,OACpCiD,OAAM,SAAAN,GAAK,OAAI,EAAK1B,SAAS,CAAE0B,MAAOA,EAAMO,gB,oBAajD,WAAU,IAAD,EACkBtC,KAAKF,MAAtBgC,EADD,EACCA,MAAOC,EADR,EACQA,MADR,EAEqB/B,KAAKC,MAAzBC,EAFD,EAECA,MAAOgC,EAFR,EAEQA,SAEf,OACE,sBAAK5B,UAAWC,IAAOgC,UAAvB,UACE,wBACEC,KAAK,SACLC,QAASzC,KAAKgC,mBACd1B,UAAWC,IAAOmC,UAHpB,kBAQCX,GACC,qCACE,6CAAcA,EAAMY,UACpB,6BAAKZ,EAAM3C,KAAKwD,oBAIpB,cAAC,WAAD,CAAUC,SAAU,6CAApB,SACGf,GACC,qCACE,cAACH,EAAD,CAAcG,MAAOA,IAErB,uDACA,qBAAIxB,UAAWC,IAAOC,KAAtB,UACE,6BACE,cAAC,IAAD,CACEsC,GAAI,CACFC,SAAS,GAAD,OAAK7C,EAAM8C,IAAX,SACRlD,MAAO,CAAEsC,KAAMF,EAASpC,MAAMsC,OAEhC9B,UAAWC,IAAOI,KAClBsC,gBAAiB1C,IAAO2C,WAN1B,oBAYF,6BACE,cAAC,IAAD,CACEJ,GAAI,CACFC,SAAS,GAAD,OAAK7C,EAAM8C,IAAX,YACRlD,MAAO,CAAEsC,KAAMF,EAASpC,MAAMsC,OAEhC9B,UAAWC,IAAOI,KAClBsC,gBAAiB1C,IAAO2C,WAN1B,0BAaJ,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAI,UAAKjD,EAAMiD,KAAX,SAAwBC,UAAWvD,IAC9C,cAAC,IAAD,CAAOsD,KAAI,UAAKjD,EAAMiD,KAAX,YAA2BC,UAAW/B,mB,GApGnBD","file":"static/js/movie-details-page.44b591f6.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '9675092798f3a490a8c4d8f2cf77169b';\n\nexport const getTrending = () =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/trending/all/week?api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n\nexport const getMovieById = id =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n\nexport const getMovieCastById = id =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n\nexport const getMovieReviewsById = id =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n\nexport const getMovieByQuery = query =>\n  axios\n    .get(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${API_KEY}\n  `,\n    )\n    .then(res => res.data);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Cast_list__VyBCQ\",\"item\":\"Cast_item__1Yxk0\",\"imageWrapper\":\"Cast_imageWrapper__qKqQt\",\"image\":\"Cast_image__pjJBw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__31PMS\",\"returnBtn\":\"MovieDetailsPage_returnBtn__wyuNE\",\"list\":\"MovieDetailsPage_list__1cktZ\",\"item\":\"MovieDetailsPage_item__38ZX6\",\"activeItem\":\"MovieDetailsPage_activeItem__2gsHr\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getMovieCastById } from '../../services/moviesAPI';\nimport styles from './Cast.module.css';\n\nconst posterPath = `https://image.tmdb.org/t/p/original`;\n\nexport default class Cast extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      params: PropTypes.shape({\n        movieId: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    cast: [],\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const id = match.params.movieId;\n\n    getMovieCastById(id).then(data => this.setState({ cast: data.cast }));\n  }\n\n  render() {\n    const { cast } = this.state;\n\n    return (\n      <>\n        {cast && (\n          <ul className={styles.list}>\n            {cast.map(c => (\n              <li key={c.id} className={styles.item}>\n                <div className={styles.imageWrapper}>\n                  <img\n                    src={`${posterPath}${c.profile_path}`}\n                    alt=\"\"\n                    className={styles.image}\n                  />\n                </div>\n                <h4>{c.name}</h4>\n                {c.character && <p>Character: {c.character}</p>}\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {cast.length === 0 && <h4>Sorry, we dont have any data about casts</h4>}\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getMovieReviewsById } from '../../services/moviesAPI';\n\nexport default class Reviews extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      params: PropTypes.shape({\n        movieId: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    reviews: [],\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const id = match.params.movieId;\n\n    getMovieReviewsById(id).then(data =>\n      this.setState({ reviews: data.results }),\n    );\n  }\n\n  render() {\n    const { reviews } = this.state;\n\n    return (\n      <>\n        {reviews && (\n          <ul>\n            {reviews.map(r => (\n              <li key={r.id}>\n                <h4>Author: {r.author}</h4>\n                <p>{r.content}</p>\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {reviews.length === 0 && <h4>Sorry, we dont have any reviews</h4>}\n      </>\n    );\n  }\n}\n","import React, { Component, lazy, Suspense } from 'react';\nimport { Switch, Route, NavLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Cast from '../../components/Cast/Cast';\nimport Reviews from '../../components/Reviews/Reviews';\nimport { getMovieById } from '../../services/moviesAPI';\nimport styles from './MovieDetailsPage.module.css';\n\nconst MovieDetails = lazy(() =>\n  import(\n    '../../components/MovieDetails/MovieDetails' /* webpackChunkName: \"movie-details\" */\n  ),\n);\n\nexport default class MovieDetailsPage extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      url: PropTypes.string.isRequired,\n      path: PropTypes.string.isRequired,\n      params: PropTypes.shape({\n        movieId: PropTypes.string.isRequired,\n      }).isRequired,\n    }).isRequired,\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n    }).isRequired,\n    location: PropTypes.shape({\n      state: PropTypes.shape({\n        from: PropTypes.shape(),\n      }),\n    }).isRequired,\n  };\n\n  state = {\n    movie: null,\n    error: null,\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const id = match.params.movieId;\n\n    getMovieById(id)\n      .then(data => this.setState({ movie: data }))\n      .catch(error => this.setState({ error: error.response }));\n  }\n\n  handleReturnButton = () => {\n    const { history, location } = this.props;\n\n    if (location.state) {\n      return history.push(location.state.from);\n    }\n\n    return history.push('/');\n  };\n\n  render() {\n    const { movie, error } = this.state;\n    const { match, location } = this.props;\n\n    return (\n      <div className={styles.container}>\n        <button\n          type=\"button\"\n          onClick={this.handleReturnButton}\n          className={styles.returnBtn}\n        >\n          back\n        </button>\n\n        {error && (\n          <>\n            <h2>{`Error ${error.status}`}</h2>\n            <h3>{error.data.status_message}</h3>\n          </>\n        )}\n\n        <Suspense fallback={<div>Loading...</div>}>\n          {movie && (\n            <>\n              <MovieDetails movie={movie} />\n\n              <h3>Additonal information</h3>\n              <ul className={styles.list}>\n                <li>\n                  <NavLink\n                    to={{\n                      pathname: `${match.url}/cast`,\n                      state: { from: location.state.from },\n                    }}\n                    className={styles.item}\n                    activeClassName={styles.activeItem}\n                  >\n                    Cast\n                  </NavLink>\n                </li>\n\n                <li>\n                  <NavLink\n                    to={{\n                      pathname: `${match.url}/reviews`,\n                      state: { from: location.state.from },\n                    }}\n                    className={styles.item}\n                    activeClassName={styles.activeItem}\n                  >\n                    Reviews\n                  </NavLink>\n                </li>\n              </ul>\n\n              <Switch>\n                <Route path={`${match.path}/cast`} component={Cast} />\n                <Route path={`${match.path}/reviews`} component={Reviews} />\n              </Switch>\n            </>\n          )}\n        </Suspense>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}