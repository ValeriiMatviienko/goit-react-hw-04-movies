(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{31:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return h}));var a=n(38),c=n.n(a),r="9675092798f3a490a8c4d8f2cf77169b",i=function(){return c.a.get("https://api.themoviedb.org/3/trending/all/week?api_key=".concat(r,"\n  ")).then((function(t){return t.data}))},s=function(t){return c.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(r,"\n  ")).then((function(t){return t.data}))},o=function(t){return c.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(r,"\n  ")).then((function(t){return t.data}))},u=function(t){return c.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(r,"\n  ")).then((function(t){return t.data}))},h=function(t){return c.a.get("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&api_key=").concat(r,"\n  ")).then((function(t){return t.data}))}},69:function(t,e,n){t.exports={list:"Cast_list__VyBCQ",item:"Cast_item__1Yxk0",imageWrapper:"Cast_imageWrapper__qKqQt",image:"Cast_image__pjJBw"}},70:function(t,e,n){t.exports={container:"MovieDetailsPage_container__31PMS",returnBtn:"MovieDetailsPage_returnBtn__wyuNE",list:"MovieDetailsPage_list__1cktZ",item:"MovieDetailsPage_item__38ZX6",activeItem:"MovieDetailsPage_activeItem__2gsHr"}},76:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return O}));var a=n(32),c=n(33),r=n(35),i=n(34),s=n(0),o=n(9),u=n(2),h=n(31),l=n(69),j=n.n(l),m=n(1),d=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={cast:[]},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;Object(h.c)(e).then((function(e){return t.setState({cast:e.cast})}))}},{key:"render",value:function(){var t=this.state.cast;return Object(m.jsxs)(m.Fragment,{children:[t&&Object(m.jsx)("ul",{className:j.a.list,children:t.map((function(t){return Object(m.jsxs)("li",{className:j.a.item,children:[Object(m.jsx)("div",{className:j.a.imageWrapper,children:Object(m.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/original").concat(t.profile_path),alt:"",className:j.a.image})}),Object(m.jsx)("h4",{children:t.name}),t.character&&Object(m.jsxs)("p",{children:["Character: ",t.character]})]},t.id)}))}),0===t.length&&Object(m.jsx)("h4",{children:"Sorry, we dont have any data about casts"})]})}}]),n}(s.Component),p=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={reviews:[]},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;Object(h.d)(e).then((function(e){return t.setState({reviews:e.results})}))}},{key:"render",value:function(){var t=this.state.reviews;return Object(m.jsxs)(m.Fragment,{children:[t&&Object(m.jsx)("ul",{children:t.map((function(t){return Object(m.jsxs)("li",{children:[Object(m.jsxs)("h4",{children:["Author: ",t.author]}),Object(m.jsx)("p",{children:t.content})]},t.id)}))}),0===t.length&&Object(m.jsx)("h4",{children:"Sorry, we dont have any reviews"})]})}}]),n}(s.Component),v=n(70),b=n.n(v),f=Object(s.lazy)((function(){return n.e(3).then(n.bind(null,75))})),O=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={movie:null,error:null},t.handleReturnButton=function(){var e=t.props,n=e.history,a=e.location;return a.state?n.push(a.state.from):n.push("/")},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;Object(h.a)(e).then((function(e){return t.setState({movie:e})})).catch((function(e){return t.setState({error:e.response})}))}},{key:"render",value:function(){var t=this.state,e=t.movie,n=t.error,a=this.props,c=a.match,r=a.location;return Object(m.jsxs)("div",{className:b.a.container,children:[Object(m.jsx)("button",{type:"button",onClick:this.handleReturnButton,className:b.a.returnBtn,children:"back"}),n&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{children:"Error ".concat(n.status)}),Object(m.jsx)("h3",{children:n.data.status_message})]}),Object(m.jsx)(s.Suspense,{fallback:Object(m.jsx)("div",{children:"Loading..."}),children:e&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{movie:e}),Object(m.jsx)("h3",{children:"Additonal information"}),Object(m.jsxs)("ul",{className:b.a.list,children:[Object(m.jsx)("li",{children:Object(m.jsx)(o.c,{to:{pathname:"".concat(c.url,"/cast"),state:{from:r.state.from}},className:b.a.item,activeClassName:b.a.activeItem,children:"Cast"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.c,{to:{pathname:"".concat(c.url,"/reviews"),state:{from:r.state.from}},className:b.a.item,activeClassName:b.a.activeItem,children:"Reviews"})})]}),Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{path:"".concat(c.path,"/cast"),component:d}),Object(m.jsx)(u.a,{path:"".concat(c.path,"/reviews"),component:p})]})]})})]})}}]),n}(s.Component)}}]);
//# sourceMappingURL=movie-details-page.44b591f6.chunk.js.map